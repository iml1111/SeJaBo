insert into sjb.college values(1,'소프트웨어융합대학');
insert into sjb.college values(2,'공과대학');
insert into sjb.college values(3,'예체능대학');
insert into sjb.major values(1,'컴퓨터공학과',1,'#E0E6F8');
insert into sjb.major values(2,'소프트웨어학과',1,'#E0ECF8');
insert into sjb.major values(3,'디지털콘텐츠학과',1,'#E0F2F7');
insert into sjb.major values(4,'데이터사이언스학과',1,'#E0E0F8');
insert into sjb.major values(5,'지능기전공학과',1,'#E6E0F8');
insert into sjb.major values(6,'환경에너지공간융합학과',2,'#ECF8E0');
insert into sjb.major values(7,'에너지자원공학과',2,'#E6F8E0');
insert into sjb.major values(8,'기계공학과',2,'#E0F8E0');
insert into sjb.major values(9,'항공우주공학과',2,'#CEF6CE');
insert into sjb.major values(10,'나노신소재공학과',2,'#D8F6CE');
insert into sjb.major values(11,'회화과',3,'#F8E0EC');
insert into sjb.major values(12,'패션디자인학과',3,'#F8E0F1');
insert into sjb.major values(13,'체육학과',3,'#F8E0E6');
insert into sjb.major values(14,'무용과',3,'#F8E0E0');
insert into sjb.major values(15,'영화예술학과',3,'#F8E6E0');
insert into sjb.building values(101,'대양AI센터');
insert into sjb.building values(102,'광개토관');
insert into sjb.building values(103,'학술정보원');
insert into sjb.building values(104,'율곡관');
create view v_post as select * from (select a.post_id,author,reg_date,exp_date,title,content,url,img_url,view_count,size, ifnull(up,0) "up",ifnull(down,0) "down",if(yul is null,0,yul) "yul",if(dae is null,0,dae) "dae",if(hak is null,0,hak) "hak",if(gwang is null,0,gwang) "gwang", ifnull(co,0) as num from (select post_id, author, reg_date, exp_date, title, content,url, img_url, view_count,size, ifnull(up,0) "up",ifnull(down,0) "down" from post LEFT JOIN (select * from (select post_id,count(*) as 'up' from like_dislike group by post_id, interest having interest =1) as good LEFT JOIN (select post_id,ifnull(count(*),0) as 'down' from like_dislike group by post_id, interest having interest=0) as bad USING(post_id) UNION select post_id,up,down from (select post_id,count(*) as 'up' from like_dislike group by post_id, interest having interest =1) as good RIGHT JOIN (select post_id,ifnull(count(*),0) as 'down' from like_dislike group by post_id, interest having interest=0) as bad USING(post_id)) as p using(post_id)) as a LEFT JOIN (select distinct(post_id),if(yul is null,0,1) "yul",if(dae is null,0,1) "dae",if(hak is null,0,1) "hak",if(gwang is null,0,1) "gwang" from (select distinct(post_id) from post_building) as pb LEFT JOIN (select post_id, building_code as yul from post_building where building_code=104) as yulb USING(post_id) LEFT JOIN (select post_id, building_code as dae from post_building where building_code=101) as daeb USING(post_id) LEFT JOIN (select post_id, building_code as hak from post_building where building_code=103) as hakb USING(post_id) LEFT JOIN (select post_id, building_code as gwang from post_building where building_code=102) as gwangb USING(post_id)) as b USING(post_id) LEFT JOIN (select post_id,count(*) as co from post_building group by post_id) as c USING(post_id)) as d JOIN (select student_id "author",u.name "user_name",m.name "major_name",color,major_code from user as u JOIN major as m USING(major_code)) as e USING(author);