insert into sjb.college values(1,'소프트웨어융합대학');
insert into sjb.college values(2,'공과대학');
insert into sjb.college values(3,'예체능대학');
insert into sjb.major values(1,'컴퓨터공학과',1,'#8181F7');
insert into sjb.major values(2,'소프트웨어학과',1,'#A9BCF5');
insert into sjb.major values(3,'디지털콘텐츠학과',1,'#819FF7');
insert into sjb.major values(4,'데이터사이언스학과',1,'#D0A9F5');
insert into sjb.major values(5,'지능기전공학과',1,'#A9D0F5');
insert into sjb.major values(6,'환경에너지공간융합학과',2,'#BEF781');
insert into sjb.major values(7,'에너지자원공학과',2,'#ACFA58');
insert into sjb.major values(8,'기계공학과',2,'#A9F5A9');
insert into sjb.major values(9,'항공우주공학과',2,'#D0FA58');
insert into sjb.major values(10,'나노신소재공학과',2,'#D8F781');
insert into sjb.major values(11,'회화과',3,'#F5A9A9');
insert into sjb.major values(12,'패션디자인학과',3,'#F78181');
insert into sjb.major values(13,'체육학과',3,'#F5A9BC');
insert into sjb.major values(14,'무용과',3,'#F5A9D0');
insert into sjb.major values(15,'영화예술학과',3,'#F7819F');
insert into sjb.user values(16010993,'hoxy',1,'이동훈');
insert into sjb.user values(16011075,'jungmal',1,'김형석');
insert into sjb.user values(16011092,'legal',1,'서정민');
insert into sjb.user values(15012015,'gaesakki',3,'천동주');
insert into sjb.user values(15010019,'sex',4,'이장원');
insert into sjb.user values(17031009,'michin',9,'김상현');
insert into sjb.post values(1,15010019,'2019-04-12 19:00:10','2019-07-15 13:15:00','test1','test111',NULL,NULL,1,1);
insert into sjb.post values(2,16010993,'2019-04-20 19:00:10','2019-07-13 13:15:00','test2','test222',NULL,NULL,100,1);
insert into sjb.post values(3,16011075,'2019-04-23 19:00:10','2019-07-11 13:15:00','test3','test333',NULL,NULL,3,1);
insert into sjb.post values(4,16011092,'2019-04-01 19:00:10','2019-07-01 13:15:00','test4','test444',NULL,NULL,4,3);
insert into sjb.post values(6,15012015,'2019-05-01 19:00:10','2019-06-12 13:15:00','test6','test666',NULL,NULL,6,2);
insert into sjb.post values(7,17031009,'2019-04-23 19:00:10','2019-06-12 13:15:00','test7','test7',NULL,NULL,7,2);
insert into sjb.post values(8,16011089,'2019-04-23 19:00:10','2019-06-12 13:15:00','test7','test7',NULL,NULL,7,2);
insert into sjb.building values(101,'대양AI센터');
insert into sjb.building values(102,'광개토관');
insert into sjb.building values(103,'학술정보원');
insert into sjb.building values(104,'율곡관');
insert into sjb.like_dislike values(16010993,2,1);
insert into sjb.like_dislike values(16010993,3,0);
insert into sjb.like_dislike values(16010993,4,1);
insert into sjb.like_dislike values(16010993,6,1);
insert into sjb.like_dislike values(16010993,1,0);
insert into sjb.like_dislike values(16010993,7,1);
insert into sjb.like_dislike values(16011075,2,1);
insert into sjb.like_dislike values(16011075,3,1);
insert into sjb.like_dislike values(16011075,4,1);
insert into sjb.like_dislike values(16011075,6,1);
insert into sjb.like_dislike values(16011075,1,0);
insert into sjb.like_dislike values(16011075,7,0);
insert into sjb.like_dislike values(16011092,2,0);
insert into sjb.like_dislike values(16011092,3,0);
insert into sjb.like_dislike values(16011092,4,1);
insert into sjb.like_dislike values(16011092,6,1);
insert into sjb.like_dislike values(16011092,1,1);
insert into sjb.like_dislike values(16011092,7,1);
insert into sjb.like_dislike values(15012015,6,1);
insert into sjb.like_dislike values(15012015,2,1);
insert into sjb.like_dislike values(15012015,7,0);
insert into sjb.like_dislike values(15010019,3,1);
insert into sjb.like_dislike values(15010019,4,1);
insert into sjb.like_dislike values(15010019,1,1);
insert into sjb.like_dislike values(17031009,3,0);
insert into sjb.like_dislike values(17031009,4,1);
insert into sjb.like_dislike values(17031009,7,1);
insert into sjb.like_dislike values(17031009,6,0);
insert into sjb.post_building values(101,1);
insert into sjb.post_building values(101,2);
insert into sjb.post_building values(101,3);
insert into sjb.post_building values(101,4);
insert into sjb.post_building values(101,6);
insert into sjb.post_building values(101,7);
insert into sjb.post_building values(102,1);
insert into sjb.post_building values(102,2);
insert into sjb.post_building values(102,7);
insert into sjb.post_building values(103,2);
insert into sjb.post_building values(103,4);
insert into sjb.post_building values(103,6);
insert into sjb.post_building values(104,1);
insert into sjb.post_building values(104,2);
insert into sjb.post_building values(104,7);
create view v_post as select * from (select a.post_id,author,reg_date,exp_date,title,content,url,img_url,view_count,size, ifnull(up,0) "up",ifnull(down,0) "down",if(yul is null,0,yul) "yul",if(dae is null,0,dae) "dae",if(hak is null,0,hak) "hak",if(gwang is null,0,gwang) "gwang", ifnull(co,0) as num from (select post_id, author, reg_date, exp_date, title, content,url, img_url, view_count,size, ifnull(up,0) "up",ifnull(down,0) "down" from post LEFT JOIN (select * from (select post_id,count(*) as 'up' from like_dislike group by post_id, interest having interest =1) as good LEFT JOIN (select post_id,ifnull(count(*),0) as 'down' from like_dislike group by post_id, interest having interest=0) as bad USING(post_id) UNION select post_id,up,down from (select post_id,count(*) as 'up' from like_dislike group by post_id, interest having interest =1) as good RIGHT JOIN (select post_id,ifnull(count(*),0) as 'down' from like_dislike group by post_id, interest having interest=0) as bad USING(post_id)) as p using(post_id)) as a LEFT JOIN (select distinct(post_id),if(yul is null,0,1) "yul",if(dae is null,0,1) "dae",if(hak is null,0,1) "hak",if(gwang is null,0,1) "gwang" from (select distinct(post_id) from post_building) as pb LEFT JOIN (select post_id, building_code as yul from post_building where building_code=104) as yulb USING(post_id) LEFT JOIN (select post_id, building_code as dae from post_building where building_code=101) as daeb USING(post_id) LEFT JOIN (select post_id, building_code as hak from post_building where building_code=103) as hakb USING(post_id) LEFT JOIN (select post_id, building_code as gwang from post_building where building_code=102) as gwangb USING(post_id)) as b USING(post_id) LEFT JOIN (select post_id,count(*) as co from post_building group by post_id) as c USING(post_id)) as d JOIN (select student_id "author",u.name "user_name",m.name "major_name",color,major_code from user as u JOIN major as m USING(major_code)) as e USING(author);